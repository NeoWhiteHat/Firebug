<html>
<head>
<script src="../../orionPlugin/ostObject.js"></script>
<script>
function objectReceiver(obj) {
    console.log("testIFrame received ", obj);
}
window.addEventListener('load', function()
{
    console.log("testIFrame load");

    var connection = jsonConnection.add(document.documentElement, objectReceiver);
    console.log("testIFrame ready");
    setTimeout(function delayTest()
    {
        var bar = {name: "fromTestIFrame"};
        connection.postObject(bar);
        connection.callService("IFoo", "fooMethod", [{bar: bar}]);
        console.log("testIFrame sent, called service");
    });
}, false);
</script>
</head>
<body>
<h1>Test Iframe for postObject</h1>


</body>
</html>