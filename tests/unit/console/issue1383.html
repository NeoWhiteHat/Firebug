<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script src="../env.js" type="text/javascript"></script>
<script>

window.onload = function() {
    enablePrivilege("UniversalXPConnect");

    // Open Firebug's UI and activate Console panel.
    Firebug.showBar(true);
    FirebugChrome.selectPanel("console");

    setTimeout(function() {
        enablePrivilege("UniversalXPConnect");
        var cmdLine = fireunit.chromeID("fbCommandLine");

        // Make sure the console is focused and command line API loaded. 
        fireunit.focus(cmdLine);

        // Put an expression into the command line and press enter.
        fireunit.value(cmdLine, "a = 5;\n//");
        fireunit.key(cmdLine, 13);

        // Check the result in console panel.
        var panelNode = fireunit.panel("console");
        var resultNode = FBL.getElementByClass(panelNode, "objectBox", "objectBox-number");
        fireunit.reCompare("5", resultNode.innerHTML, "Console panel result verification");

        // Finish test
        FBTrace.sysout("fireunit.issue1383.DONE");
        fireunit.testDone();
    }, layoutTimeout);
};
</script>
</head>
<body>
<h1>Test for Issue #1383</h1>
</body>
</html>
