<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<script src="../env.js" type="text/javascript"></script>
<script src="utils.js" type="text/javascript"></script>
<script>

// Get request URI.
var index = location.href.lastIndexOf(".");
var requestUri = location.href.substr(0, index) + ".txt";

// Start
Firebug.showBar(true);
FirebugChrome.selectPanel("console");

// 1. Select Console panel and execute XHR.
// 1. Use chrome.select to activate Net panel and select the XHR.
// 2. Check Net panel's UI, the XHR must be expanded.
makeRequest("GET", requestUri, function(request) {
    // Use request URI as the identifier.
    FirebugContext.chrome.select(new FBL.NetFileLink(requestUri));
    setTimeout(function() {
        var panelNode = fireunit.panel("net");
        var result = FBL.getElementByClass(panelNode, "netRow", "category-xhr", "opened");
        fireunit.ok(result, "XHR request must be expanded now.");

        FBTrace.sysout("fireunit.netSelection.DONE");
        fireunit.testDone();
    }, layoutTimeout);
});
</script>
</head>
<body>
<h1>Test for selection support in Net panel.</h1>
</body>
</html>
